<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 800 600" width="800" height="600" onload="init(evt)">
<title>GearHead Mecha</title>
<script type="text/ecmascript" src="javascript_2.js"><![CDATA[

var TopPadding = 32
var LeftPadding = 0
var SVGObj
var path = 'images_mecha_big/'
var extn = '.png'
var t_blank = ['blank']
var f_heavy = ['Terrain_Forest_Heavy','Terrain_Forest_Heavy_Mask']
var f_light = ['Terrain_Forest_Light','Terrain_Forest_Light_Mask']
var t_ferns_heavy = ['Terrain_Ferns_Heavy','Terrain_Ferns_Heavy_Mask']
var t_ferns_light = ['Terrain_Ferns_Light','Terrain_Ferns_Light_Mask']
var hill_a01 = ['Terrain_Hills_A01'], hill_a02 = ['Terrain_Hills_A02'], hill_a03 = ['Terrain_Hills_A03'], hill_a04 = ['Terrain_Hills_A04']
var hill_a05 = ['Terrain_Hills_A05'], hill_a06 = ['Terrain_Hills_A06'], hill_a07 = ['Terrain_Hills_A07'], hill_a08 = ['Terrain_Hills_A08']
var hill_a09 = ['Terrain_Hills_A09'], hill_a10 = ['Terrain_Hills_A10'], hill_a11 = ['Terrain_Hills_A11'], hill_a12 = ['Terrain_Hills_A12']
var hill_a13 = ['Terrain_Hills_A13'], hill_a14 = ['Terrain_Hills_A14'], hill_a15 = ['Terrain_Hills_A15'], hill_a16 = ['Terrain_Hills_A16']
var hill_b01 = ['Terrain_Hills_B01'], hill_b02 = ['Terrain_Hills_B02'], hill_b03 = ['Terrain_Hills_B03'], hill_b04 = ['Terrain_Hills_B04']
var hill_b05 = ['Terrain_Hills_B05'], hill_b06 = ['Terrain_Hills_B06'], hill_b07 = ['Terrain_Hills_B07'], hill_b08 = ['Terrain_Hills_B08']
var hill_b09 = ['Terrain_Hills_B09'], hill_b10 = ['Terrain_Hills_B10'], hill_b11 = ['Terrain_Hills_B11'], hill_b12 = ['Terrain_Hills_B12']
var hill_b13 = ['Terrain_Hills_B13'], hill_b14 = ['Terrain_Hills_B14'], hill_b15 = ['Terrain_Hills_B15'], hill_b16 = ['Terrain_Hills_B16']
var hill_c01 = ['Terrain_Hills_C01'], hill_c02 = ['Terrain_Hills_C02'], hill_c03 = ['Terrain_Hills_C03'], hill_c04 = ['Terrain_Hills_C04']
var hill_c05 = ['Terrain_Hills_C05'], hill_c06 = ['Terrain_Hills_C06'], hill_c07 = ['Terrain_Hills_C07'], hill_c08 = ['Terrain_Hills_C08']
var hill_c09 = ['Terrain_Hills_C09'], hill_c10 = ['Terrain_Hills_C10'], hill_c11 = ['Terrain_Hills_C11'], hill_c12 = ['Terrain_Hills_C12']
var hill_c13 = ['Terrain_Hills_C13'], hill_c14 = ['Terrain_Hills_C14'], hill_c15 = ['Terrain_Hills_C15'], hill_c16 = ['Terrain_Hills_C16']
var desert = ['Terrain_Desert']
var grass = ['Terrain_Grass']
var wastes = ['Terrain_Wastes']
var marsh = ['Terrain_Marsh']
var water_1 = ['Terrain_Water_Lvl1','Terrain_Water_Mask']
var water_2 = ['Terrain_Water_Lvl2','Terrain_Water_Mask']
var water_3 = ['Terrain_Water_Lvl3','Terrain_Water_Mask']

var terrain =
[
//0
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass],
	[grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass,grass]
]

var objects =
[
	//name, frames, y, x
	['Shadow_Big',1,1,0],
	['btr_maanji',8,1,0],
	['Shadow_Big',1,1,1],
	['btr_jos',8,1,1],
	['Shadow_Big',1,1,2],
	['btr_condor',8,1,2],
	['Shadow_Big',1,1,3],
	['btr_vadel',8,1,3],
	['Shadow_Big',1,1,4],
	['btr_ovaknight',8,1,4],
	['Shadow_Big',1,1,5],
	['btr_radcliff',8,1,5],

	['Shadow_Big',1,2,0],
	['btr_trailblazer',8,2,0],

	['Shadow_Big',1,5,0],
	['btr_ranger',8,5,0],
	['Shadow_Big',1,5,1],
	['btr_brute',8,5,1],
	['Shadow_Big',1,5,2],
	['btr_tortoise',8,5,2],
	['Shadow_Big',1,5,3],
	['btr_azriel',8,5,3],
	['Shadow_Big',1,5,4],
	['btr_bigbrother',8,5,4],
	['Shadow_Big',1,5,5],
	['btr_coyote',8,5,5],
	['Shadow_Big',1,5,6],
	['btr_stalwart',8,5,6],
	['Shadow_Big',1,5,7],
	['btr_centurion',8,5,7],
	['Shadow_Big',1,5,8],
	['btr_dilur',8,5,8],
	['Shadow_Big',1,5,9],
	['btr_joker',8,5,9],
	['Shadow_Big',1,5,10],
	['btr_wolf',8,5,10],
	['Shadow_Big',1,5,11],
	['btr_striker',8,5,11],

	['Shadow_Big',1,6,0],
	['btr_viper',8,6,0],
	['Shadow_Big',1,6,1],
	['btr_neroid',8,6,1],
	['Shadow_Big',1,6,2],
	['btr_sentinel',8,6,2],
	['Shadow_Big',1,6,3],
	['btr_raider',8,6,3],
	['Shadow_Big',1,6,4],
	['btr_goblin',8,6,4],
	['Shadow_Big',1,6,5],
	['btr_hunter',8,6,5],
	['Shadow_Big',1,6,6],
	['btr_troll',8,6,6],
	['Shadow_Big',1,6,7],
	['btr_whitetiger',8,6,7],
	['Shadow_Big',1,6,8],
	['btr_chieftain',8,6,8],
	['Shadow_Big',1,6,9],
	['btr_lz70',8,6,9],
	['Shadow_Big',1,6,10],
	['btr_maniac',8,6,10],

	['Shadow_Big',1,9,0],
	['ara_kojedo',8,9,0],
	['Shadow_Big',1,9,1],
	['ara_iron',8,9,1],
	['Shadow_Big',1,9,2],
	['ara_crab',8,9,2],
	['Shadow_Big',1,9,3],
	['ara_bushwhacker',8,9,3],
	['Shadow_Big',1,9,4],
	['ara_archer',8,9,4],
	['Shadow_Big',1,9,5],
	['ara_mwp',8,9,5],
	['Shadow_Big',1,9,6],
	['ara_map',8,9,6],
	['Shadow_Big',1,9,7],
	['ara_mbp',8,9,7],
	['Shadow_Big',1,9,8],
	['ara_mdp',8,9,8],
	['Shadow_Big',1,9,9],
	['ara_mmp',8,9,9],
	['Shadow_Big',1,9,10],
	['ara_msp',8,9,10],
	['Shadow_Big',1,9,11],
	['ara_mtp',8,9,11],

	['Shadow_Big',1,10,0],
	['ara_psu',8,10,0],
	['Shadow_Big',1,10,1],
	['ara_spider',8,10,1],
	['Shadow_Big',1,10,2],
	['ara_gorilla',8,10,2],
	['Shadow_Big',1,10,3],
	['tur_gun',8,10,3],
	['Shadow_Big',1,10,4],
	['tur_missile',8,10,4],
	['Shadow_Big',1,10,5],
	['ara_prowler',8,10,5],
	['Shadow_Big',1,10,6],
	['ara_uav',8,10,6],
	['Shadow_Big',1,10,7],
	['ara_tridefender',8,10,7],

	['Shadow_Big',1,13,0],
	['zoa_terror',8,13,0],
	['Shadow_Big',1,13,1],
	['zoa_rhino',8,13,1],
	['Shadow_Big',1,13,2],
	['zoa_mirage',8,13,2],

	['Shadow_Big',1,17,0],
	['aer_mosquito',8,17,0],
	['Shadow_Big',1,17,1],
	['aer_owl',8,17,1],
	['Shadow_Big',1,17,2],
	['aer_shuttle',8,17,2],
	['Shadow_Big',1,17,3],
	['aer_darkfog',8,17,3],
	['Shadow_Big',1,17,4],
	['aer_laf',8,17,4],
	['Shadow_Big',1,17,5],
	['aer_lancer',8,17,5],
	['Shadow_Big',1,17,6],
	['hov_loiterer',8,17,6],

	['Shadow_Big',1,18,0],
	['aer_bee',8,18,0],
	['Shadow_Big',1,18,1],
	['aer_escapecapsule',8,18,1],

	['Shadow_Big',1,21,0],
	['ghu_apc01',8,21,0],
	['Shadow_Big',1,21,1],
	['ghu_apc02',8,21,1],
	['Shadow_Big',1,21,2],
	['ghu_doombuggy',8,21,2],
	['Shadow_Big',1,21,3],
	['ghu_renegade',8,21,3],
	['Shadow_Big',1,21,4],
	['gca_rover',8,21,4],
]

function init(evt)
{
	SVGObj = evt.target.ownerDocument
	write_terrain()
	setInterval("cycle_animations()", 1000)
}

function cycle_animations()
{
	for (var i in objects)
	{
		var newobj = objects[i]
		var name = newobj[0]
		var frames = newobj[1]
		if (frames > 1)
		{
			var id = 'x' + newobj[2] + 'y' + newobj[3] + 'n' + newobj[0]
			var thisimg = SVGObj.getElementById(id)
			var thisframe = eval(thisimg.getAttribute('frame')) + 1
			if (thisframe > frames)
				thisframe = 1
			var src = get_src(name, frames, thisframe)
			thisimg.setAttribute('frame', thisframe)
			thisimg.setAttribute('xlink:href', path + src + extn)
		}
	}
}

function write_terrain()
{
	for (var i in terrain)
	{
		var top = i * 16 - 96 + TopPadding
		for (var k in terrain[i])
		{
			var left = k * 64 + LeftPadding
			if (i % 2 == 1)
				left = left + 32

			for (var j in terrain[i][k])
			{
				var id = 'x' + i + 'y' + k + 'n' + terrain[i][k][j]
				var src = terrain[i][k][j]
//				var newimg = SVGObj.createElement('image')
				var newimg = SVGObj.getElementById('img').cloneNode(false)
				newimg.setAttribute('x', left)
				newimg.setAttribute('y', top)
				newimg.setAttribute('width', 64)
				newimg.setAttribute('height', 128)
				newimg.setAttribute('id', id)
				newimg.setAttribute('xlink:href', path + src + extn)
				SVGObj.getElementById('mockup').appendChild(newimg)
//				alert(id + ' ' + path + src + extn)
				if (j == 0)
				{
					for (var m in objects)
					{
						var newobj = objects[m]
						if (newobj[2] == i)
						{
							if (newobj[3] == k)
							{
								var name = newobj[0]
								var frames = newobj[1]
								var top = newobj[2] * 16 - 96 + TopPadding
								var left = newobj[3] * 64 + LeftPadding
								if (newobj[2] % 2 == 1)
									left = left + 32
								var id = 'x' + newobj[2] + 'y' + newobj[3] + 'n' + newobj[0]
								var src = get_src(name, frames, 1)
//								var newimg = SVGObj.createElement('image')
								var newimg = SVGObj.getElementById('img').cloneNode(false)
								newimg.setAttribute('x', left)
								newimg.setAttribute('y', top)
								newimg.setAttribute('width', 64)
								newimg.setAttribute('height', 128)
								newimg.setAttribute('id', id)
								newimg.setAttribute('frame', 1)
								newimg.setAttribute('xlink:href', path + src + extn)
								SVGObj.getElementById('mockup').appendChild(newimg)
							}
						}
					}
				}
			}
		}
	}
}

function get_src(name, frames, num)
{
	var src = ''
	num = num.toString()
	if (frames == 1)
	{
		src = name
	}
	else
	{
		var lognum = Math.floor(Math.log10(frames)) + 1
		while (num.length < lognum)
		{
			num = '0' + num
		}
		src = name + num
	}
	return src
}

Math.log10 = function(number)
{
	return Math.log(number)/Math.LN10
}

]]></script>
	<g id="mockup">
		<image id="img" x="0" y="0" width="0" height="0" xlink:href="" />
	</g>
</svg>
